function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _iterableToArrayLimit(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}(function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?b(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],b):(a="undefined"==typeof globalThis?a||self:globalThis,b(a.VueDraggableCore={},a.Vue))})(this,function(a,b){'use strict';function c(a){return a&&"object"===_typeof(a)&&"default"in a?a:{default:a}}function d(a,b){for(var c=0,d=a.length;c<d;c++)if(b.apply(b,[a[c],c,a]))return a[c]}function e(a){return"function"==typeof a||"[object Function]"===Object.prototype.toString.call(a)}function f(a){return"number"==typeof a&&!isNaN(a)}function g(a,b){return x||(x=d(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(b){return e(a[b])})),!!e(a[x])&&a[x](b)}function h(a,b,c){var d=a;do{if(g(d,b))return!0;if(d===c)return!1;d=d.parentNode}while(d);return!1}function i(a,b,c,d){if(a){var e=_objectSpread({capture:!0},d);a.addEventListener?a.addEventListener(b,c,e):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}}function j(a,b,c,d){if(a){var e=_objectSpread({capture:!0},d);a.removeEventListener?a.removeEventListener(b,c,e):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}}function k(a,b,c){var d=b===b.ownerDocument.body,e=d?{left:0,top:0}:b.getBoundingClientRect(),f=(a.clientX+b.scrollLeft-e.left)/c,g=(a.clientY+b.scrollTop-e.top)/c;return{x:f,y:g}}function l(a,b){return a.targetTouches&&d(a.targetTouches,function(a){return b===a.identifier})||a.changedTouches&&d(a.changedTouches,function(a){return b===a.identifier})}function m(a){return a.targetTouches&&a.targetTouches[0]?a.targetTouches[0].identifier:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0].identifier:null}function n(a){if(a){var b=a.getElementById("vue-draggable-style-el");b||(b=a.createElement("style"),b.type="text/css",b.id="vue-draggable-style-el",b.innerHTML=".vue-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",b.innerHTML+=".vue-draggable-transparent-selection *::selection {all: inherit;}\n",a.getElementsByTagName("head")[0].appendChild(b)),a.body&&p(a.body,"vue-draggable-transparent-selection")}}function o(a){if(a)try{a.body&&q(a.body,"vue-draggable-transparent-selection");var b=a.getSelection();if(b)b.empty();else{var c=(a.defaultView||window).getSelection();c&&"Caret"!==c.type&&c.removeAllRanges()}}catch(a){}}function p(a,b){a.classList?a.classList.add(b):!a.className.match(new RegExp("(?:^|\\s)".concat(b,"(?!\\S)")))&&(a.className+=" ".concat(b))}function q(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(?:^|\\s)".concat(b,"(?!\\S)"),"g"),"")}function r(a,b,c){var d=Math.round,e=d(b/a[0])*a[0],f=d(c/a[1])*a[1];return[e,f]}function s(a,b,c){var d="number"==typeof b?l(a,b):null;if("number"==typeof b&&!d)return null;var e=u(c),f=c.offsetParent||e.offsetParent||e.ownerDocument.body;return k(d||a,f,c.scale)}function t(a,b,c){var d=a,e=!f(d.lastX),g=u(a);return e?{node:g,deltaX:0,deltaY:0,lastX:b,lastY:c,x:b,y:c}:{node:g,deltaX:b-d.lastX,deltaY:c-d.lastY,lastX:d.lastX,lastY:d.lastY,x:b,y:c}}function u(a){var b=a.findDOMNode();if(!b)throw new Error("<DraggableCore>: Unmounted during event!");return b}function v(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};a.component(b.vueDraggableCoreName||"VueDraggableCore",A)}var w=c(b),x="",y={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},z=y.mouse,A=w["default"].extend({name:"VueDraggableCore",props:{allowAnyClick:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},enableUserSelectHack:{type:Boolean,default:!0},offsetParent:{validator:function(a){return a&&1==a.nodeType},default:null},grid:{type:[Array,Object],default:null},handle:{type:String,default:null},cancel:{type:String,default:null},scale:{type:Number,default:1}},data:function(){return{mounted:!1,dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}},mounted:function(){this.mounted=!0;var a=this.findDOMNode();a&&(this.$slots["default"]&&(i(a,y.mouse.start,this.mouseDown),i(a,y.mouse.stop,this.mouseUp),i(a,y.touch.stop,this.touchEnd)),i(a,y.touch.start,this.touchStart,{passive:!1}))},beforeDestroy:function(){this.mounted=!1;var a=this.findDOMNode();if(a){this.$slots["default"]&&(j(a,y.mouse.start,this.mouseDown),j(a,y.mouse.stop,this.mouseUp),j(a,y.touch.stop,this.touchEnd));var b=a.ownerDocument;j(b,y.mouse.move,this.handleDrag),j(b,y.touch.move,this.handleDrag),j(b,y.mouse.stop,this.handleDragStop),j(b,y.touch.stop,this.handleDragStop),j(a,y.touch.start,this.touchStart,{passive:!1}),this.enableUserSelectHack&&o(b)}},methods:{findDOMNode:function(){return this.$refs&&this.$refs.element?this.$ref.element:this.$el},handleDragStart:function(a){if(this.$emit("mousedown",a),!this.allowAnyClick&&"number"==typeof a.button&&0!==a.button)return!1;var b=this.findDOMNode();if(!b||!b.ownerDocument||!b.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var c=b.ownerDocument;if(!(this.disabled||!(a.target instanceof c.defaultView.Node)||this.handle&&!h(a.target,this.handle,b)||this.cancel&&h(a.target,this.cancel,b))){"touchstart"===a.type&&a.preventDefault();var d=m(a);this.touchIdentifier=m(a);var e=s(a,d,this);if(null!=e){var f=e.x,g=e.y,j=t(this,f,g),k=this.$emit("dragStart",j,a);!1===k||!1===this.mounted||(this.enableUserSelectHack&&n(c),this.dragging=!0,this.lastX=f,this.lastY=g,i(c,z.move,this.handleDrag),i(c,z.stop,this.handleDragStop))}}},handleDrag:function(a){var b=s(a,this.touchIdentifier,this);if(null!=b){var c=b.x,d=b.y;if(Array.isArray(this.grid)){var e=c-this.lastX,f=d-this.lastY,g=r(this.grid,e,f),h=_slicedToArray(g,2);if(e=h[0],f=h[1],!e&&!f)return;c=this.lastX+e,d=this.lastY+f}var i=t(this,c,d),j=this.$emit("drag",i,a);if(!1===j||!1===this.mounted){try{this.handleDragStop(new MouseEvent("mouseup"))}catch(a){var k=document.createEvent("MouseEvents");k.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(k)}return}this.lastX=c,this.lastY=d}},handleDragStop:function(a){if(this.dragging){var b=s(a,this.touchIdentifier,this);if(null!=b){var c=b.x,d=b.y,e=t(this,c,d),f=this.$emit("dragStop",e,a);if(!1===f||!1===this.mounted)return!1;var g=this.findDOMNode();g&&this.enableUserSelectHack&&o(g.ownerDocument),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,g&&(j(g.ownerDocument,z.move,this.handleDrag),j(g.ownerDocument,z.stop,this.handleDragStop))}}},mouseDown:function(a){return z=y.mouse,this.handleDragStart(a)},mouseUp:function(a){return z=y.mouse,this.handleDragStop(a)},touchStart:function(a){return z=y.touch,this.handleDragStart(a)},touchEnd:function(a){return z=y.touch,this.handleDragStop(a)},children:function(a){return this.$scopedSlots["default"]?this.$scopedSlots["default"]({mouseDown:this.mouseDown,mouseUp:this.mouseUp,touchEnd:this.touchEnd}):this.$slots["default"]?this.$slots["default"]:a("div")}},render:function(a){var b=this.children(a);return Array.isArray(b)?b[0]:b}});"undefined"!=typeof window&&window.Vue&&window.Vue===w["default"]&&window.Vue.use({install:v});a.VueDraggableCore=A,a["default"]={install:v},Object.defineProperty(a,"__esModule",{value:!0})});